<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>The Great Eatery - Menu</title>
  <style>
    /* --- Reset & Base Styles --- */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-image: url('img/your-background-image.png');
      background-attachment: fixed;
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      color: #333;
      line-height: 1.6;
    }
    a {
      text-decoration: none;
      color: inherit;
    }
    
    /* --- Header / Splash Section --- */
    .splash {
      background: url('img/splash-screen.png') no-repeat center center;
      background-size: cover;
      color: #fff;
      text-align: center;
      padding: 0;
      width: 100%;
      min-height: 40vh;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .splash .logo {
      max-width: 120px;
      margin: 0 auto 15px;
    }
    .splash h1 {
      font-size: 28px;
      margin-bottom: 10px;
    }
    .splash p {
      font-size: 18px;
    }
    
    /* --- Section Styles --- */
    section {
      padding: 20px;
      background-color: rgba(255, 255, 255, 0.8);
      border-bottom: 1px solid #ddd;
    }
    section h2 {
      color: #d00ad0;
      margin-bottom: 15px;
      font-size: 24px;
    }
    section p.section-desc {
      font-size: 16px;
      margin-bottom: 15px;
      font-weight: bold;
    }
    
    /* --- Dish Card Styles --- */
    .dishes {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
    }
    .dish {
      background-color: #FAFAFA;
      border: 1px solid #ddd;
      border-radius: 5px;
      width: calc(100% - 0px);
      max-width: 300px;
      overflow: hidden;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    .dish img {
      width: 100%;
      height: auto;
      display: block;
    }
    .dish-info {
      padding: 15px;
    }
    .dish-info h3 {
      margin-bottom: 8px;
      font-size: 20px;
      color: black;
    }
    .dish-info p {
      font-size: 14px;
      margin-bottom: 10px;
      color: #555;
    }
    .dish-info span {
      font-weight: bold;
      color: #333;
    }
    
    /* --- Fixed Navigation Buttons --- */
    .fixed-menu-button {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 60px;
      height: 60px;
      border: none;
      border-radius: 50%;
      background-color: #d00ad0;
      color: #fff;
      font-size: 30px;
      cursor: pointer;
      z-index: 101;
      box-shadow: 0 2px 5px rgba(0,0,0,0.3);
    }

    .fixed-payment-button {
      position: fixed;
      bottom: 100px;
      right: 20px;
      width: 60px;
      height: 60px;
      border: none;
      border-radius: 50%;
      background-color: #4CAF50;
      color: #fff;
      font-size: 28px;
      cursor: pointer;
      z-index: 101;
      box-shadow: 0 2px 5px rgba(0,0,0,0.3);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    /* --- Overlay Navigation --- */
    .menu-overlay {
      position: fixed;
      top: 0;
      right: 0;
      width: 50%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      color: #fff;
      z-index: 100;
      display: none;
      overflow-y: auto;
      padding-top: 60px;
    }

    .menu-overlay .close-overlay {
      position: absolute;
      top: 15px;
      right: 20px;
      font-size: 35px;
      cursor: pointer;
    }

    .menu-overlay ul {
      list-style: none;
      padding: 0 20px;
    }
    .menu-overlay li {
      padding: 15px 10px;
      margin: 10px 0;
      font-size: 15px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.3);
      cursor: pointer;
      transition: background 0.3s ease;
    }
    .menu-overlay li:hover {
      background-color: rgba(255, 255, 255, 0.2);
    }
    
    /* --- Contact / Footer Section --- */
    .contact {
      padding: 20px;
      background-color: #fff;
      border-top: 1px solid #ddd;
      text-align: center;
    }
    .contact p {
      font-size: 14px;
      color: #666;
    }
    
    /* --- Responsive Adjustments --- */
    @media (min-width: 768px) {
      .dishes {
        justify-content: space-between;
      }
    }
  </style>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/js-yaml/4.1.0/js-yaml.min.js"></script>
</head>
<body>
  <!-- Splash / Welcome Section -->
  <div class="splash" id="splash">
    <img id="restaurantLogo" src="restaurant-logo.png" alt="Restaurant Logo" class="logo" />
    <h1 id="restaurantName">Welcome to The Great Eatery</h1>
    <p>Please browse our menu below</p>
  </div>

  <!-- Container for Menu Sections -->
  <div id="menuContainer"></div>

  <!-- Contact Section -->
  <div id="contactContainer"></div>
  
  <!-- Footer / Contact Info -->
  <div class="contact" id="footer">
    <p>&copy; 2025 The Great Eatery. All rights reserved.</p>
  </div>

  <!-- Fixed Payment Button -->
  <button class="fixed-payment-button" id="paymentButton">â‚¹</button>

  <!-- Fixed Navigation Button -->
  <button class="fixed-menu-button" id="menuButton">&#9776;</button>

  <!-- Fullscreen Overlay Navigation -->
  <div class="menu-overlay" id="menuOverlay">
    <span class="close-overlay" id="closeOverlay">&times;</span>
    <ul id="navList">
      <li data-target="splash">Home</li>
    </ul>
  </div>

  <!-- JavaScript -->
  <script>
    // DOM elements
    const menuButton = document.getElementById('menuButton');
    const menuOverlay = document.getElementById('menuOverlay');
    const closeOverlay = document.getElementById('closeOverlay');
    const navList = document.getElementById('navList');
    const menuContainer = document.getElementById('menuContainer');
    const contactContainer = document.getElementById('contactContainer');
    const restaurantNameElem = document.getElementById('restaurantName');
    const restaurantLogoElem = document.getElementById('restaurantLogo');
    const footerElem = document.getElementById('footer');
    const paymentButton = document.getElementById('paymentButton');
    let restaurantUPI = '';

    // Show overlay when menu button is clicked
    menuButton.addEventListener('click', () => {
      menuOverlay.style.display = 'block';
    });

    // Close overlay when close icon is clicked
    closeOverlay.addEventListener('click', () => {
      menuOverlay.style.display = 'none';
    });

    // Smooth scroll for navigation items
    navList.addEventListener('click', (e) => {
      if (e.target && e.target.matches('li[data-target]')) {
        const targetId = e.target.getAttribute('data-target');
        const targetElement = document.getElementById(targetId);
        if (targetElement) {
          targetElement.scrollIntoView({ behavior: 'smooth' });
        }
        menuOverlay.style.display = 'none';
      }
    });

    // UPI Payment Handler
    paymentButton.addEventListener('click', () => {
  // Use the owner's personal UPI ID
  // const ownerUPI = '8552968161-2@ybl'; // Replace with the owner's actual UPI ID
  const ownerUPI = 'ankitbhardwaj11411920-1@okicici';
  const recipientName = 'Rucha Meshram'; // Replace with the owner's name
  const note = 'Payment for Thick Shake cafe'; // Custom note for the transaction

  // Construct the UPI deep link
  const upiURL = `upi://pay?pa=${ownerUPI}&pn=${encodeURIComponent(recipientName)}&tn=${encodeURIComponent(note)}&cu=INR`;

  // Try to open the UPI app
  window.location.href = upiURL;

  // Fallback for desktop or unsupported devices
  setTimeout(() => {
    alert(`Please open a UPI app and use this UPI ID: ${ownerUPI}`);
  }, 500);
});

    // Fetch and parse YAML
    fetch('menu.yml')
      .then(response => response.text())
      .then(yamlText => {
        const data = jsyaml.load(yamlText);
        restaurantUPI = data.restaurant.upi_id || 'default@upiid';

        // Update restaurant info
        if (data.restaurant) {
          if (data.restaurant.name) {
            restaurantNameElem.textContent = 'Welcome to ' + data.restaurant.name;
          }
          if (data.restaurant.logo) {
            restaurantLogoElem.src = data.restaurant.logo;
          }
        }

        // Create menu sections
        if (data.restaurant && data.restaurant.sections) {
          data.restaurant.sections.forEach(section => {
            const sectionElem = createMenuSection(section);
            menuContainer.appendChild(sectionElem);

            const navItem = document.createElement('li');
            navItem.setAttribute('data-target', section.id);
            navItem.textContent = section.title;
            navList.appendChild(navItem);
          });
        }

        // Create contact section
        if (data.restaurant && data.restaurant.contact) {
          const contactSection = createContactSection(data.restaurant.contact);
          contactContainer.appendChild(contactSection);

          const navItem = document.createElement('li');
          navItem.setAttribute('data-target', 'contact');
          navItem.textContent = 'Contact';
          navList.appendChild(navItem);
        }

        // Update footer
        if (data.restaurant && data.restaurant.copyright) {
          footerElem.innerHTML = '<p>&copy; ' + data.restaurant.copyright + '</p>';
        }
      })
      .catch(error => {
        console.error('Error loading or parsing YAML file:', error);
      });

    // Helper functions
    function createDishCard(dish) {
      const dishDiv = document.createElement('div');
      dishDiv.className = 'dish';

      const img = document.createElement('img');
      img.src = dish.image;
      img.alt = dish.name;
      dishDiv.appendChild(img);

      const infoDiv = document.createElement('div');
      infoDiv.className = 'dish-info';

      const h3 = document.createElement('h3');
      h3.textContent = dish.name;
      infoDiv.appendChild(h3);

      const pDesc = document.createElement('p');
      pDesc.textContent = dish.description;
      infoDiv.appendChild(pDesc);

      const priceSpan = document.createElement('span');
      priceSpan.textContent = dish.price;
      infoDiv.appendChild(priceSpan);

      dishDiv.appendChild(infoDiv);
      return dishDiv;
    }

    function createMenuSection(section) {
      const sectionElem = document.createElement('section');
      sectionElem.id = section.id;

      const h2 = document.createElement('h2');
      h2.textContent = section.title;
      sectionElem.appendChild(h2);

      const pDesc = document.createElement('p');
      pDesc.className = 'section-desc';
      pDesc.textContent = section.description;
      sectionElem.appendChild(pDesc);

      const dishesDiv = document.createElement('div');
      dishesDiv.className = 'dishes';

      section.dishes.forEach(dish => {
        dishesDiv.appendChild(createDishCard(dish));
      });
      sectionElem.appendChild(dishesDiv);
      return sectionElem;
    }

    function createContactSection(contact) {
      const sectionElem = document.createElement('section');
      sectionElem.id = 'contact';

      const h2 = document.createElement('h2');
      h2.textContent = 'Contact Us';
      sectionElem.appendChild(h2);

      const p1 = document.createElement('p');
      p1.textContent = 'If you have any questions, please ask your server or contact us at:';
      sectionElem.appendChild(p1);

      const pPhone = document.createElement('p');
      pPhone.innerHTML = '<strong>Phone:</strong> ' + contact.phone;
      sectionElem.appendChild(pPhone);

      const pEmail = document.createElement('p');
      pEmail.innerHTML = '<strong>Email:</strong> ' + contact.email;
      sectionElem.appendChild(pEmail);

      return sectionElem;
    }
  </script>
</body>
</html>