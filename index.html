<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>The Great Eatery - Menu</title>
  <style>
    /* --- Reset & Base Styles --- */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #F9F9F9;
      color: #333;
      line-height: 1.6;
    }
    a {
      text-decoration: none;
      color: inherit;
    }
    
    /* --- Header / Splash Section --- */
    .splash {
      background-color: #d00ad0;
      color: #fff;
      text-align: center;
      padding: 30px 20px;
    }
    .splash .logo {
      max-width: 120px;
      margin: 0 auto 15px;
    }
    .splash h1 {
      font-size: 28px;
      margin-bottom: 10px;
    }
    .splash p {
      font-size: 18px;
    }
    
    /* --- Section Styles --- */
    section {
      padding: 20px;
      background-color: #fff;
      border-bottom: 1px solid #ddd;
    }
    section h2 {
      color: #d00ad0;
      margin-bottom: 15px;
      font-size: 24px;
    }
    section p.section-desc {
      font-size: 16px;
      margin-bottom: 15px;
    }
    
    /* --- Dish Card Styles --- */
    .dishes {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
    }
    .dish {
      background-color: #FAFAFA;
      border: 1px solid #ddd;
      border-radius: 5px;
      width: calc(100% - 40px);
      max-width: 300px;
      overflow: hidden;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    .dish img {
      width: 100%;
      height: auto;
      display: block;
    }
    .dish-info {
      padding: 15px;
    }
    .dish-info h3 {
      margin-bottom: 8px;
      font-size: 20px;
      color: #d00ad0;
    }
    .dish-info p {
      font-size: 14px;
      margin-bottom: 10px;
      color: #555;
    }
    .dish-info span {
      font-weight: bold;
      color: #333;
    }
    
    /* --- Fixed Navigation Button (Hamburger Icon) --- */
    .fixed-menu-button {
        position: fixed;
        bottom: 20px;
        right: 20px; /* Changed from left: 20px; to right: 20px; */
        width: 60px;
        height: 60px;
        border: none;
        border-radius: 50%;
        background-color: #d00ad0;
        color: #fff;
        font-size: 30px;
        cursor: pointer;
        z-index: 101;
        box-shadow: 0 2px 5px rgba(0,0,0,0.3);
    }

    
    /* --- Overlay Navigation --- */
    /* .menu-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      color: #fff;
      z-index: 100;
      display: none;
      overflow-y: auto;
      padding-top: 60px;
    } */

    .menu-overlay {
  position: fixed;
  top: 0;
  right: 0;         /* Align to the right side */
  width: 50%;       /* Cover 50% of the screen */
  height: 100%;
  background: rgba(0, 0, 0, 0.8);
  color: #fff;
  z-index: 100;
  display: none;
  overflow-y: auto;
  padding-top: 60px;
}

/* Adjust the close icon positioning if needed */
.menu-overlay .close-overlay {
  position: absolute;
  top: 15px;
  right: 20px;
  font-size: 35px;
  cursor: pointer;
}

    .menu-overlay ul {
      list-style: none;
      padding: 0 20px;
    }
    .menu-overlay li {
      padding: 15px 10px;
      margin: 10px 0;
      font-size: 22px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.3);
      cursor: pointer;
      transition: background 0.3s ease;
    }
    .menu-overlay li:hover {
      background-color: rgba(255, 255, 255, 0.2);
    }
    /* .menu-overlay .close-overlay {
      position: absolute;
      top: 15px;
      right: 20px;
      font-size: 35px;
      cursor: pointer;
    } */
    
    /* --- Contact / Footer Section --- */
    .contact {
      padding: 20px;
      background-color: #fff;
      border-top: 1px solid #ddd;
      text-align: center;
    }
    .contact p {
      font-size: 14px;
      color: #666;
    }
    
    /* --- Responsive Adjustments --- */
    @media (min-width: 768px) {
      .dishes {
        justify-content: space-between;
      }
    }
  </style>
  <!-- Load js-yaml from CDN -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/js-yaml/4.1.0/js-yaml.min.js"></script>
</head>
<body>
  <!-- Splash / Welcome Section -->
  <div class="splash" id="splash">
    <img id="restaurantLogo" src="restaurant-logo.png" alt="Restaurant Logo" class="logo" />
    <h1 id="restaurantName">Welcome to The Great Eatery</h1>
    <p>Please browse our menu below</p>
  </div>

  <!-- Container for Menu Sections -->
  <div id="menuContainer"></div>

  <!-- Contact Section will be appended dynamically -->
  <div id="contactContainer"></div>
  
  <!-- Footer / Contact Info (will be updated dynamically) -->
  <div class="contact" id="footer">
    <p>&copy; 2025 The Great Eatery. All rights reserved.</p>
  </div>

  <!-- Fixed Navigation Button (Hamburger Icon) -->
  <button class="fixed-menu-button" id="menuButton">&#9776;</button>

  <!-- Fullscreen Overlay Navigation -->
  <div class="menu-overlay" id="menuOverlay">
    <span class="close-overlay" id="closeOverlay">&times;</span>
    <ul id="navList">
      <!-- Navigation items will be populated dynamically -->
      <li data-target="splash">Home</li>
    </ul>
  </div>

  <!-- JavaScript for Dynamic Content, Navigation and Smooth Scrolling -->
  <script>
    // DOM elements for navigation overlay and dynamic menu container
    const menuButton = document.getElementById('menuButton');
    const menuOverlay = document.getElementById('menuOverlay');
    const closeOverlay = document.getElementById('closeOverlay');
    const navList = document.getElementById('navList');
    const menuContainer = document.getElementById('menuContainer');
    const contactContainer = document.getElementById('contactContainer');
    const restaurantNameElem = document.getElementById('restaurantName');
    const restaurantLogoElem = document.getElementById('restaurantLogo');
    const footerElem = document.getElementById('footer');

    // Show overlay when menu button is clicked
    menuButton.addEventListener('click', () => {
      menuOverlay.style.display = 'block';
    });
    // Close overlay when close icon is clicked
    closeOverlay.addEventListener('click', () => {
      menuOverlay.style.display = 'none';
    });
    // Smooth scroll for navigation items
    navList.addEventListener('click', (e) => {
      if (e.target && e.target.matches('li[data-target]')) {
        const targetId = e.target.getAttribute('data-target');
        const targetElement = document.getElementById(targetId);
        if (targetElement) {
          targetElement.scrollIntoView({ behavior: 'smooth' });
        }
        menuOverlay.style.display = 'none';
      }
    });

    // Function to create a dish card element
    function createDishCard(dish) {
      const dishDiv = document.createElement('div');
      dishDiv.className = 'dish';

      const img = document.createElement('img');
      img.src = dish.image;
      img.alt = dish.name;
      dishDiv.appendChild(img);

      const infoDiv = document.createElement('div');
      infoDiv.className = 'dish-info';

      const h3 = document.createElement('h3');
      h3.textContent = dish.name;
      infoDiv.appendChild(h3);

      const pDesc = document.createElement('p');
      pDesc.textContent = dish.description;
      infoDiv.appendChild(pDesc);

      const priceSpan = document.createElement('span');
      priceSpan.textContent = dish.price;
      infoDiv.appendChild(priceSpan);

      dishDiv.appendChild(infoDiv);
      return dishDiv;
    }

    // Function to create a menu section element
    function createMenuSection(section) {
      const sectionElem = document.createElement('section');
      sectionElem.id = section.id;

      const h2 = document.createElement('h2');
      h2.textContent = section.title;
      sectionElem.appendChild(h2);

      const pDesc = document.createElement('p');
      pDesc.className = 'section-desc';
      pDesc.textContent = section.description;
      sectionElem.appendChild(pDesc);

      const dishesDiv = document.createElement('div');
      dishesDiv.className = 'dishes';

      section.dishes.forEach(dish => {
        dishesDiv.appendChild(createDishCard(dish));
      });
      sectionElem.appendChild(dishesDiv);
      return sectionElem;
    }

    // Function to create the Contact section
    function createContactSection(contact) {
      const sectionElem = document.createElement('section');
      sectionElem.id = 'contact';

      const h2 = document.createElement('h2');
      h2.textContent = 'Contact Us';
      sectionElem.appendChild(h2);

      const p1 = document.createElement('p');
      p1.textContent = 'If you have any questions, please ask your server or contact us at:';
      sectionElem.appendChild(p1);

      const pPhone = document.createElement('p');
      pPhone.innerHTML = '<strong>Phone:</strong> ' + contact.phone;
      sectionElem.appendChild(pPhone);

      const pEmail = document.createElement('p');
      pEmail.innerHTML = '<strong>Email:</strong> ' + contact.email;
      sectionElem.appendChild(pEmail);

      return sectionElem;
    }

    // Fetch the YAML file and initialize the page
    fetch('menu.yml')
      .then(response => response.text())
      .then(yamlText => {
        // Parse the YAML text into a JavaScript object
        const data = jsyaml.load(yamlText);

        // Update restaurant info in the splash section
        if (data.restaurant) {
          if (data.restaurant.name) {
            restaurantNameElem.textContent = 'Welcome to ' + data.restaurant.name;
          }
          if (data.restaurant.logo) {
            restaurantLogoElem.src = data.restaurant.logo;
          }
        }

        // For each section in the YAML, create and append the menu section
        if (data.restaurant && data.restaurant.sections) {
          data.restaurant.sections.forEach(section => {
            // Create section element and append it
            const sectionElem = createMenuSection(section);
            menuContainer.appendChild(sectionElem);

            // Also add to the navigation overlay list
            const navItem = document.createElement('li');
            navItem.setAttribute('data-target', section.id);
            navItem.textContent = section.title;
            navList.appendChild(navItem);
          });
        }

        // Create and append the Contact section (if defined)
        if (data.restaurant && data.restaurant.contact) {
          const contactSection = createContactSection(data.restaurant.contact);
          contactContainer.appendChild(contactSection);
          // Also add Contact to the navigation overlay
          const navItem = document.createElement('li');
          navItem.setAttribute('data-target', 'contact');
          navItem.textContent = 'Contact';
          navList.appendChild(navItem);
        }

        // Update footer copyright (if provided)
        if (data.restaurant && data.restaurant.copyright) {
          footerElem.innerHTML = '<p>&copy; ' + data.restaurant.copyright + '</p>';
        }
      })
      .catch(error => {
        console.error('Error loading or parsing YAML file:', error);
      });
  </script>
</body>
</html>
